.flag-markdown {
    @apply break-words;
    word-break: break-word;
    overflow-wrap: anywhere;
}

.flag-markdown h1,
.flag-markdown h2,
.flag-markdown h3,
.flag-markdown h4,
.flag-markdown h5,
.flag-markdown h6 {
	@apply items-center mb-4 scroll-mt-8;
}

.flag-markdown h1 {
	@apply text-3xl sm:text-[2.5rem] font-medium sm:leading-[3rem];
}

.flag-markdown h2 {
	@apply text-2xl sm:text-3xl font-medium mt-10;
}

.flag-markdown h3 {
	@apply text-xl sm:text-2xl font-medium mt-10;
}

.flag-markdown h4 {
	@apply text-lg sm:text-xl font-medium;
}

.flag-markdown h5 {
    @apply text-sm sm:text-lg font-medium;
}

.flag-markdown h6 {
	@apply sm:text-lg font-medium;
}

.flag-markdown .anchor-link {
    @apply ml-3 text-text/50 inline-flex items-center mb-0 opacity-0 transition-opacity;
}

.flag-markdown .anchor-link:hover {
	@apply text-surreal-pink;
}

h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
	@apply opacity-100;
}

.flag-markdown p {
	@apply mb-4 dark:text-faint;
}

.flag-markdown p:last-child {
	@apply mb-0;
}

.flag-markdown strong,
.flag-markdown b {
	@apply font-bold text-text;
}

.flag-markdown a {
	@apply text-hover transition-colors duration-300 hover:underline;
}

.flag-markdown a code {
	@apply text-inherit;
}

.flag-markdown a:last-child {
	@apply mb-0;
}

.flag-markdown img {
	@apply mb-4 w-full rounded-lg;
}

.flag-markdown pre {
	@apply mb-8 rounded-lg text-sm bg-border/45 border-[1px] border-border relative leading-[1.4rem] overflow-x-auto;
    white-space: pre-wrap;
    word-break: break-word;
}

.flag-markdown pre .code-title {
	@apply !block bg-background px-4 py-3 rounded-t-lg font-mono border-b border-border text-wrap;
}

.flag-markdown pre .code-container,
.flag-markdown pre:not(:has(.code-title):not(:has(.code-container))) {
	@apply !block p-4 overflow-x-auto;
}

.flag-markdown pre .code-container > div,
.flag-markdown pre > code > div {
	@apply inline-block w-full;
}

.flag-markdown pre .code-copy {
	@apply bg-background w-8 h-8 absolute top-0 right-0 m-1 flex items-center justify-center rounded-md cursor-pointer border-[1px] border-border opacity-0 transition-all duration-150 active:scale-95;
}

.flag-markdown pre:has(.code-title) .code-copy {
	@apply mt-[3.15rem];
}

.flag-markdown pre:hover .code-copy {
	@apply opacity-100;
}

.flag-markdown *:not(pre) > code {
	@apply rounded px-1.5 text-text/80 inline-block max-w-full bg-border/50 border border-border;
}

.flag-markdown *:not(pre) > code .code-container {
	@apply overflow-x-auto;
}

@media (max-width: 640px) {
	.flag-markdown *:not(pre) > code {
		@apply break-words whitespace-pre-wrap;
	}
}

.flag-markdown ul,
.flag-markdown ol {
	@apply mb-8 ml-8 dark:text-faint;
}

.flag-markdown li {
	@apply mt-4;
}

.flag-markdown li:last-child {
	@apply mb-4;
}

.flag-markdown iframe {
	@apply mb-8;
}

.flag-markdown blockquote {
	@apply mb-8 rounded-lg border-l-4 border-l-hover bg-code border border-border p-5;
}

.flag-markdown blockquote code {
	@apply bg-bwr/5 py-0.5;
}

.flag-markdown blockquote .kind-note {
	@apply border-l-quote-note;

	& .kind-heading {
		@apply text-quote-note;
	}
}

.flag-markdown blockquote .kind-important {
	@apply border-l-quote-important;

	& .kind-heading {
		@apply text-quote-important;
	}
}

.flag-markdown blockquote .kind-warning {
	@apply border-l-quote-warning;

	& .kind-heading {
		@apply text-quote-warning;
	}
}

.flag-markdown blockquote .kind-caution {
	@apply border-l-quote-caution;

	& .kind-heading {
		@apply text-quote-caution;
	}
}

.flag-markdown blockquote .kind-heading {
	@apply flex items-center gap-1.5 text-lg font-semibold mb-2;
    
	& svg {
        @apply size-5;
    }

	& > * {
        @apply mb-0;
    }
}

.flag-markdown {

        & table {
            @apply w-full mb-8 overflow-x-auto block;
            display: block;
            & th {
                @apply text-left font-bold;
            }
            & td, th {
                @apply px-4 py-3;

                & p, & a {
                    @apply mb-0;
                }
            }
            & tr:not(:first-child) {
                @apply border-t dark:border-t-2 border-t-border;
            }
            & thead tr:only-child {
                @apply border-b dark:border-b-2 border-b-border;
            }

            @media not all and screen(md) {
                & thead {
                    @apply hidden;
                }

                & tr {
                    @apply block mb-2 !border border-border;
                }

                & th {
                    @apply p-3;
                }

                & td {
                    @apply block text-right p-3 bg-code min-h-16;

                    &:before {
                        content: attr(data-label);
                        @apply float-left font-bold text-text/80 mr-4 uppercase;
                    }

                    &:not(:first-child) {
                        @apply border-t border-border;
                    }
                }
            }
        }

		& .flag-title {
			@apply flex gap-3 items-start mb-4;

			h1 {
				@apply m-0 -mt-1;
			}
		}
    }